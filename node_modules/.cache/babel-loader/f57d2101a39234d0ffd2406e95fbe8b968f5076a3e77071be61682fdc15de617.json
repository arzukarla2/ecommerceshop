{"ast":null,"code":"import _slicedToArray from\"C:/Users/home/Documents/comer_1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useMemo,useCallback,useState,useRef,useEffect}from\"react\";import{createPortal}from\"react-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var PortalPopup=function PortalPopup(_ref){var children=_ref.children,overlayColor=_ref.overlayColor,_ref$placement=_ref.placement,placement=_ref$placement===void 0?\"Centered\":_ref$placement,onOutsideClick=_ref.onOutsideClick,_ref$zIndex=_ref.zIndex,zIndex=_ref$zIndex===void 0?100:_ref$zIndex,_ref$left=_ref.left,left=_ref$left===void 0?0:_ref$left,_ref$right=_ref.right,right=_ref$right===void 0?0:_ref$right,_ref$top=_ref.top,top=_ref$top===void 0?0:_ref$top,_ref$bottom=_ref.bottom,bottom=_ref$bottom===void 0?0:_ref$bottom,relativeLayerRef=_ref.relativeLayerRef;var relContainerRef=useRef(null);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),relativeStyle=_useState2[0],setRelativeStyle=_useState2[1];var popupStyle=useMemo(function(){var style={};style.zIndex=zIndex;if(overlayColor){style.backgroundColor=overlayColor;}if(!(relativeLayerRef!==null&&relativeLayerRef!==void 0&&relativeLayerRef.current)){switch(placement){case\"Centered\":style.alignItems=\"center\";style.justifyContent=\"center\";break;case\"Top left\":style.alignItems=\"flex-start\";break;case\"Top center\":style.alignItems=\"center\";break;case\"Top right\":style.alignItems=\"flex-end\";break;case\"Bottom left\":style.alignItems=\"flex-start\";style.justifyContent=\"flex-end\";break;case\"Bottom center\":style.alignItems=\"center\";style.justifyContent=\"flex-end\";break;case\"Bottom right\":style.alignItems=\"flex-end\";style.justifyContent=\"flex-end\";break;}}return style;},[placement,overlayColor,zIndex,relativeLayerRef===null||relativeLayerRef===void 0?void 0:relativeLayerRef.current]);var setPosition=useCallback(function(){var _relativeLayerRef$cur,_relContainerRef$curr;var relativeItem=relativeLayerRef===null||relativeLayerRef===void 0?void 0:(_relativeLayerRef$cur=relativeLayerRef.current)===null||_relativeLayerRef$cur===void 0?void 0:_relativeLayerRef$cur.getBoundingClientRect();var containerItem=relContainerRef===null||relContainerRef===void 0?void 0:(_relContainerRef$curr=relContainerRef.current)===null||_relContainerRef$curr===void 0?void 0:_relContainerRef$curr.getBoundingClientRect();var style={};if(relativeItem&&containerItem){var relativeX=relativeItem.x,relativeY=relativeItem.y,relativeW=relativeItem.width,relativeH=relativeItem.height;var containerW=containerItem.width,containerH=containerItem.height;style.position=\"absolute\";switch(placement){case\"Top left\":style.top=relativeY-containerH-top;style.left=relativeX+left;break;case\"Top right\":style.top=relativeY-containerH-top;style.left=relativeX+relativeW-containerW-right;break;case\"Bottom left\":style.top=relativeY+relativeH+bottom;style.left=relativeX+left;break;case\"Bottom right\":style.top=relativeY+relativeH+bottom;style.left=relativeX+relativeW-containerW-right;break;}setRelativeStyle(style);}else{style.maxWidth=\"90%\";style.maxHeight=\"90%\";setRelativeStyle(style);}},[left,right,top,bottom,placement,relativeLayerRef===null||relativeLayerRef===void 0?void 0:relativeLayerRef.current,relContainerRef===null||relContainerRef===void 0?void 0:relContainerRef.current]);useEffect(function(){setPosition();window.addEventListener(\"resize\",setPosition);window.addEventListener(\"scroll\",setPosition,true);return function(){window.removeEventListener(\"resize\",setPosition);window.removeEventListener(\"scroll\",setPosition,true);};},[setPosition]);var onOverlayClick=useCallback(function(e){if(onOutsideClick&&e.target.classList.contains(\"portalPopupOverlay\")){onOutsideClick();}e.stopPropagation();},[onOutsideClick]);return/*#__PURE__*/_jsx(Portal,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col fixed inset-0 portalPopupOverlay\",style:popupStyle,onClick:onOverlayClick,children:/*#__PURE__*/_jsx(\"div\",{ref:relContainerRef,style:relativeStyle,children:children})})});};export var Portal=function Portal(_ref2){var children=_ref2.children,_ref2$containerId=_ref2.containerId,containerId=_ref2$containerId===void 0?\"portals\":_ref2$containerId;var portalsDiv=document.getElementById(containerId);if(!portalsDiv){portalsDiv=document.createElement(\"div\");portalsDiv.setAttribute(\"id\",containerId);document.body.appendChild(portalsDiv);}return/*#__PURE__*/createPortal(children,portalsDiv);};export default PortalPopup;","map":{"version":3,"names":["useMemo","useCallback","useState","useRef","useEffect","createPortal","jsx","_jsx","PortalPopup","_ref","children","overlayColor","_ref$placement","placement","onOutsideClick","_ref$zIndex","zIndex","_ref$left","left","_ref$right","right","_ref$top","top","_ref$bottom","bottom","relativeLayerRef","relContainerRef","_useState","_useState2","_slicedToArray","relativeStyle","setRelativeStyle","popupStyle","style","backgroundColor","current","alignItems","justifyContent","setPosition","_relativeLayerRef$cur","_relContainerRef$curr","relativeItem","getBoundingClientRect","containerItem","relativeX","x","relativeY","y","relativeW","width","relativeH","height","containerW","containerH","position","maxWidth","maxHeight","window","addEventListener","removeEventListener","onOverlayClick","e","target","classList","contains","stopPropagation","Portal","className","onClick","ref","_ref2","_ref2$containerId","containerId","portalsDiv","document","getElementById","createElement","setAttribute","body","appendChild"],"sources":["C:/Users/home/Documents/comer_1/src/components/PortalPopup.tsx"],"sourcesContent":["import {\n  CSSProperties,\n  RefObject,\n  FunctionComponent,\n  ReactNode,\n  useMemo,\n  useCallback,\n  useState,\n  useRef,\n  useEffect,\n} from \"react\";\n\nimport { createPortal } from \"react-dom\";\n\ntype PopupProps = {\n  overlayColor?: string;\n  placement?:\n    | \"Centered\"\n    | \"Top left\"\n    | \"Top center\"\n    | \"Top right\"\n    | \"Bottom left\"\n    | \"Bottom center\"\n    | \"Bottom right\";\n  onOutsideClick?: () => void;\n  zIndex?: number;\n  children: ReactNode;\n  left?: number;\n  right?: number;\n  top?: number;\n  bottom?: number;\n  relativeLayerRef?: RefObject<HTMLElement>;\n};\n\nconst PortalPopup: FunctionComponent<PopupProps> = ({\n  children,\n  overlayColor,\n  placement = \"Centered\",\n  onOutsideClick,\n  zIndex = 100,\n  left = 0,\n  right = 0,\n  top = 0,\n  bottom = 0,\n  relativeLayerRef,\n}) => {\n  const relContainerRef = useRef<HTMLDivElement>(null);\n  const [relativeStyle, setRelativeStyle] = useState<CSSProperties>({});\n  const popupStyle = useMemo(() => {\n    const style: CSSProperties = {};\n    style.zIndex = zIndex;\n\n    if (overlayColor) {\n      style.backgroundColor = overlayColor;\n    }\n    if (!relativeLayerRef?.current) {\n      switch (placement) {\n        case \"Centered\":\n          style.alignItems = \"center\";\n          style.justifyContent = \"center\";\n          break;\n        case \"Top left\":\n          style.alignItems = \"flex-start\";\n          break;\n        case \"Top center\":\n          style.alignItems = \"center\";\n          break;\n        case \"Top right\":\n          style.alignItems = \"flex-end\";\n          break;\n        case \"Bottom left\":\n          style.alignItems = \"flex-start\";\n          style.justifyContent = \"flex-end\";\n          break;\n        case \"Bottom center\":\n          style.alignItems = \"center\";\n          style.justifyContent = \"flex-end\";\n          break;\n        case \"Bottom right\":\n          style.alignItems = \"flex-end\";\n          style.justifyContent = \"flex-end\";\n          break;\n      }\n    }\n    return style;\n  }, [placement, overlayColor, zIndex, relativeLayerRef?.current]);\n\n  const setPosition = useCallback(() => {\n    const relativeItem = relativeLayerRef?.current?.getBoundingClientRect();\n    const containerItem = relContainerRef?.current?.getBoundingClientRect();\n    const style: CSSProperties = {};\n    if (relativeItem && containerItem) {\n      const {\n        x: relativeX,\n        y: relativeY,\n        width: relativeW,\n        height: relativeH,\n      } = relativeItem;\n      const { width: containerW, height: containerH } = containerItem;\n      style.position = \"absolute\";\n      switch (placement) {\n        case \"Top left\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + left;\n          break;\n        case \"Top right\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n        case \"Bottom left\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + left;\n          break;\n        case \"Bottom right\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n      }\n\n      setRelativeStyle(style);\n    } else {\n      style.maxWidth = \"90%\";\n      style.maxHeight = \"90%\";\n      setRelativeStyle(style);\n    }\n  }, [\n    left,\n    right,\n    top,\n    bottom,\n    placement,\n    relativeLayerRef?.current,\n    relContainerRef?.current,\n  ]);\n\n  useEffect(() => {\n    setPosition();\n\n    window.addEventListener(\"resize\", setPosition);\n    window.addEventListener(\"scroll\", setPosition, true);\n\n    return () => {\n      window.removeEventListener(\"resize\", setPosition);\n      window.removeEventListener(\"scroll\", setPosition, true);\n    };\n  }, [setPosition]);\n\n  const onOverlayClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      if (\n        onOutsideClick &&\n        (e.target as HTMLElement).classList.contains(\"portalPopupOverlay\")\n      ) {\n        onOutsideClick();\n      }\n      e.stopPropagation();\n    },\n    [onOutsideClick]\n  );\n\n  return (\n    <Portal>\n      <div\n        className={\"flex flex-col fixed inset-0 portalPopupOverlay\"}\n        style={popupStyle}\n        onClick={onOverlayClick}\n      >\n        <div ref={relContainerRef} style={relativeStyle}>\n          {children}\n        </div>\n      </div>\n    </Portal>\n  );\n};\n\ntype PortalProps = {\n  children: ReactNode;\n  containerId?: string;\n};\n\nexport const Portal: FunctionComponent<PortalProps> = ({\n  children,\n  containerId = \"portals\",\n}) => {\n  let portalsDiv = document.getElementById(containerId);\n  if (!portalsDiv) {\n    portalsDiv = document.createElement(\"div\");\n    portalsDiv.setAttribute(\"id\", containerId);\n    document.body.appendChild(portalsDiv);\n  }\n\n  return createPortal(children, portalsDiv);\n};\nexport default PortalPopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}